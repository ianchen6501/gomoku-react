{"version":3,"sources":["Board.js","App.js","index.js"],"names":["Square","props","react_default","a","createElement","className","onClick","index","value","Board","squares","map","item","key","i","winnerIs","lines","_loop","_loop2","j","newlines","line","num","k","length","_newlines$k","Object","slicedToArray","b","c","d","e","v","_ret2","_ret","App","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","step","history","Array","fill","blakeIsNext","_this$state","newSquares","slice","setState","concat","_this2","_this$state2","status","winner","block","src_Board","handleClick","type","handleReset","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.5968b954.chunk.js","sourcesContent":["import React from 'react';\n\n// 每一格\nfunction Square(props) {\n    return(\n        <div\n            className=\"square\"\n            onClick={() => props.onClick(props.index)}\n        >   \n            {\n                props.value && \n                <div className={props.value === 'B' ? \"black\" : \"white\"}></div>\n            }\n        </div>\n    );\n}\n\n// 19*19 棋盤組成\nfunction Board(props) {\n    const {squares} = props;\n    return(\n        <div className=\"game__board\">\n            {squares.map((item, index)=>\n                <Square\n                    key={index}\n                    index={index}\n                    value={item}\n                    onClick={(i) => props.onClick(i)}\n                />\n            )}\n        </div>\n    )\t\t\n}\n\nexport default Board;","import React from 'react';\nimport Board from './Board';\n\n// 整個小遊戲\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstep: 0,\n\t\t\thistory: [{\n\t\t\t\tsquares: Array(19*19).fill(null)\n\t\t\t}], // 負責存歷史盤面\n\t\t\tsquares: Array(19*19).fill(null), // 現在的盤面\n\t\t\tblakeIsNext: true, \n\t\t}\n\t}\n\n\t// 點擊下棋\n\thandleClick(i) {\n\t\tconst {step, history, squares, blakeIsNext} = this.state;\n\t\t\n\t\t// 防止重複下棋\n\t\tif(squares[i]) { \n\t\t\treturn;\n\t\t}\n\t\t// 遊戲結束\n\t\tif(winnerIs(squares)) { \n\t\t\treturn;\n\t\t}\n\n\t\tconst  newSquares = squares.slice();\n\t\tnewSquares[i] = blakeIsNext ? 'B' : 'W' ;\n\n\t\tthis.setState({\n\t\t\tstep: step + 1,\n\t\t\thistory: history.concat({\n\t\t\t\tsquares: newSquares\n\t\t\t}),\n\t\t\tsquares: newSquares,\n\t\t\tblakeIsNext: !blakeIsNext,\n\t\t});\n    }\n    \n    handleReset() {\n        this.setState({\n            step: 0,\n\t\t\thistory: [{\n\t\t\t\tsquares: Array(19*19).fill(null)\n\t\t\t}], \n\t\t\tsquares: Array(19*19).fill(null), \n\t\t\tblakeIsNext: true, \n        });\n    }\n\n\trender() {\n\t\tconst {squares, blakeIsNext} = this.state;\n\t\tconst status = '下一位：' + (blakeIsNext ? '黑子' : '白子') ;\n        const winner = winnerIs(squares);\n        \n        const block = Array(18*18).fill(null); // 土法煉鋼畫棋盤用的\n\n\t\treturn (\n            <div>\n                <div className=\"game container my-3\">\n                    <div className=\"game__title\">\n                        <h2>五子棋小遊戲</h2>\n                    </div>\n                    <div className=\"game__field\">\n                        <div className=\"game__board__bg\">\n                            {block.map((item, index)=>\n                                <div className=\"block\" key={index}>{item}</div>\n                            )}\n                        </div>\n                        <Board\n                            squares={squares}\n                            onClick={(i) => this.handleClick(i)}\n                        />\n                    </div>\n                    <div className=\"game__info my-3\">\n                        <div>{status}</div>\n                        <div>\n                            {winner && <span>遊戲結束。贏家是：{winner === 'B' ?  '黑子':'白子'}</span>}\n                        </div>\n                        <div>\n                            <button type=\"button\" className=\"btn btn-secondary my-3\" onClick={()=>this.handleReset()}>重新開始</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\t\t\t\n\t\t)\n\t}\n}\n\n\n// 判斷勝負\nfunction winnerIs(squares) {\n    // 先定義 5*5 棋盤的 12 種連線\n\tconst lines = [\n\t\t[0, 1, 2 , 3, 4],\n\t\t[19, 20, 21, 22, 23],\n\t\t[38, 39, 40, 41, 42],\n\t\t[57, 58, 59, 60, 61],\n\t\t[76, 77, 78, 79, 80],\n\t\t[0, 19, 38, 57, 76],\n\t\t[1, 20, 39, 58, 77],\n\t\t[2, 21, 40, 59, 78],\n\t\t[3, 22, 41, 60, 79],\n\t\t[4, 23, 42, 61, 80],\n\t\t[0, 20, 40, 60, 80],\n\t\t[4, 22, 40, 58, 76],\n    ];\n    \n    for(let i = 0; i <= 14; i++) {  // 5*5 棋盤連線橫向掃描\n\n        for(let j = 0; j <= 14; j++) {  // 5*5 棋盤連線直向掃描\n            const newlines = lines.map((line) => {\n                const newline = line.map((num) => num + (i*19) +j)\n                return newline;\n            });\n\n            //console.log(newlines);\n            \n            for(let k = 0; k < newlines.length; k++) { // 掃描 12 種連線\n                const [a, b, c, d, e] = newlines[k]\n                if(\n                    squares[a]\n                    && squares[a] === squares[b] \n                    && squares[a] === squares[c] \n                    && squares[a] === squares[d] \n                    && squares[a] === squares[e]\n                ) {\n                    return squares[a];\n                }\n            }\n        }\n    }\n\treturn null;\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\n\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById('root')\n);"],"sourceRoot":""}